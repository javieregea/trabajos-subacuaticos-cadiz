---
import '../styles/global.css'

export interface Props {
	title: string;
	description?: string;
	keywords?: string;
	canonical?: string;
}

const { title, description = "Especialistas en soldadura subacuática y trabajos marítimos en Cádiz. Servicios profesionales de buceo industrial, reparación de cascos y soldadura hiperbárica 24/7.", keywords = "soldadura subacuática Cádiz, trabajos subacuáticos, buceo industrial, reparación cascos embarcaciones", canonical } = Astro.props;

const canonicalURL = canonical || `https://trabajos-subacuaticos-cadiz.vercel.app${Astro.url.pathname}`;
---

<!doctype html>
<html lang="es">
	<head>
		<meta charset="UTF-8" />
		<meta name="description" content={description} />
		<meta name="keywords" content={keywords} />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<link rel="canonical" href={canonicalURL} />
		<meta name="generator" content={Astro.generator} />

		<!-- Critical CSS inline -->
		<style>
			/* Critical CSS - Above the fold styles */
			* { margin: 0; padding: 0; box-sizing: border-box; }
			html { font-family: system-ui, sans-serif; -webkit-text-size-adjust: 100%; }
			body { background-color: #f9fafb; color: #111827; line-height: 1.6; }
			.header { background-color: #1e40af; color: white; position: sticky; top: 0; z-index: 50; }
			.nav { max-width: 1200px; margin: 0 auto; padding: 1rem; display: flex; justify-content: space-between; align-items: center; }
			.logo { font-size: 1.5rem; font-weight: bold; }
			.hero { background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%); color: white; padding: 4rem 1rem; text-align: center; min-height: 60vh; display: flex; align-items: center; justify-content: center; flex-direction: column; }
			.hero h1 { font-size: 3rem; font-weight: bold; margin-bottom: 1rem; line-height: 1.2; }
			.hero p { font-size: 1.25rem; margin-bottom: 2rem; max-width: 600px; }
			.btn { display: inline-block; background-color: #f59e0b; color: white; padding: 0.75rem 2rem; border-radius: 0.5rem; text-decoration: none; font-weight: 600; transition: background-color 0.2s; }
			.btn:hover { background-color: #d97706; }
			.container { max-width: 1200px; margin: 0 auto; padding: 0 1rem; }
			img { max-width: 100%; height: auto; }
		</style>

		<!-- Preload critical resources -->
		<link rel="preload" href="/favicon.svg" as="image" type="image/svg+xml" />

		<!-- Open Graph / Facebook -->
		<meta property="og:type" content="website" />
		<meta property="og:url" content={canonicalURL} />
		<meta property="og:title" content={title} />
		<meta property="og:description" content={description} />
		<meta property="og:site_name" content="Trabajos Subacuáticos Cádiz" />

		<!-- Twitter -->
		<meta property="twitter:card" content="summary_large_image" />
		<meta property="twitter:title" content={title} />
		<meta property="twitter:description" content={description} />

		<!-- Enhanced Local Business & Organization Schema -->
		<script type="application/ld+json">
			[
				{
					"@context": "https://schema.org",
					"@type": ["LocalBusiness", "Organization"],
					"@id": "https://trabajos-subacuaticos-cadiz.vercel.app/#organization",
					"name": "Trabajos Subacuáticos Cádiz",
					"alternateName": "Soldadura Subacuática Cádiz",
					"description": "Especialistas certificados en soldadura subacuática, buceo industrial, reparación naval e inspección submarina. Servicio 24/7 en puerto de Cádiz y Estrecho de Gibraltar.",
					"url": "https://trabajos-subacuaticos-cadiz.vercel.app",
					"logo": "https://trabajos-subacuaticos-cadiz.vercel.app/favicon.svg",
					"image": "https://trabajos-subacuaticos-cadiz.vercel.app/favicon.svg",
					"address": {
						"@type": "PostalAddress",
						"addressLocality": "Cádiz",
						"addressRegion": "Andalucía",
						"addressCountry": "ES",
						"postalCode": "11001"
					},
					"geo": {
						"@type": "GeoCoordinates",
						"latitude": "36.5297",
						"longitude": "-6.2921"
					},
					"areaServed": [
						{
							"@type": "City",
							"name": "Cádiz"
						},
						{
							"@type": "City",
							"name": "Puerto de Santa María"
						},
						{
							"@type": "City",
							"name": "Jerez de la Frontera"
						},
						{
							"@type": "City",
							"name": "El Puerto de Santa María"
						},
						{
							"@type": "City",
							"name": "Rota"
						}
					],
					"telephone": "+34-614-405-061",
					"email": "info@trabajossubacuaticoscadiz.com",
					"openingHours": "Mo-Su 00:00-23:59",
					"openingHoursSpecification": [
						{
							"@type": "OpeningHoursSpecification",
							"dayOfWeek": ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"],
							"opens": "00:00",
							"closes": "23:59"
						}
					],
					"hasOfferCatalog": {
						"@type": "OfferCatalog",
						"name": "Servicios de Soldadura Subacuática y Trabajos Marítimos",
						"itemListElement": [
							{
								"@type": "Offer",
								"itemOffered": {
									"@type": "Service",
									"name": "Soldadura Subacuática",
									"description": "Soldadura hiperbárica profesional con técnicas húmedas y secas bajo el agua",
									"serviceType": "Soldadura Submarina",
									"category": "Marine Welding"
								}
							},
							{
								"@type": "Offer",
								"itemOffered": {
									"@type": "Service",
									"name": "Buceo Industrial",
									"description": "Servicios profesionales de buceo comercial para inspección y mantenimiento submarino",
									"serviceType": "Commercial Diving",
									"category": "Industrial Diving"
								}
							},
							{
								"@type": "Offer",
								"itemOffered": {
									"@type": "Service",
									"name": "Inspección de Cascos",
									"description": "Inspección visual y técnica de cascos de embarcaciones y estructuras marinas",
									"serviceType": "Hull Inspection",
									"category": "Marine Inspection"
								}
							},
							{
								"@type": "Offer",
								"itemOffered": {
									"@type": "Service",
									"name": "Reparación Naval",
									"description": "Reparación a flote de embarcaciones, cascos, hélices y estructuras navales",
									"serviceType": "Ship Repair",
									"category": "Naval Repair"
								}
							},
							{
								"@type": "Offer",
								"itemOffered": {
									"@type": "Service",
									"name": "Emergencias Marítimas 24h",
									"description": "Servicio de emergencia inmediata para reparaciones críticas y soldadura urgente",
									"serviceType": "Emergency Marine Services",
									"category": "Emergency Services"
								}
							},
							{
								"@type": "Offer",
								"itemOffered": {
									"@type": "Service",
									"name": "Corte Subacuático",
									"description": "Corte oxicorte, plasma y térmico subacuático para trabajos de salvamento",
									"serviceType": "Underwater Cutting",
									"category": "Marine Cutting"
								}
							}
						]
					},
					"knowsAbout": [
						"Soldadura Subacuática",
						"Soldadura Hiperbárica",
						"Buceo Industrial",
						"Buceo Comercial",
						"Inspección Submarina",
						"Reparación Naval",
						"Soldadura Marina",
						"Trabajos Offshore",
						"Emergencias Marítimas",
						"Corte Subacuático",
						"Soldadura TIG Submarina",
						"Soldadura MIG Submarina",
						"Soldadura Electrodo Revestido",
						"Inspección de Cascos",
						"Reparación de Embarcaciones",
						"Mantenimiento Portuario"
					],
					"hasCredential": [
						{
							"@type": "EducationalOccupationalCredential",
							"credentialCategory": "certification",
							"name": "AWS D3.6 Underwater Welding",
							"description": "American Welding Society D3.6 Specification for Underwater Welding"
						},
						{
							"@type": "EducationalOccupationalCredential",
							"credentialCategory": "certification",
							"name": "EN ISO 15618 Underwater Welding",
							"description": "European Standard for Qualification Testing of Welders for Underwater Welding"
						},
						{
							"@type": "EducationalOccupationalCredential",
							"credentialCategory": "certification",
							"name": "DNV GL Standards",
							"description": "Det Norske Veritas Germanischer Lloyd certification for offshore welding"
						},
						{
							"@type": "EducationalOccupationalCredential",
							"credentialCategory": "certification",
							"name": "Lloyd's Register Certification",
							"description": "Lloyd's Register marine and offshore welding certification"
						}
					],
					"slogan": "Soldadura Subacuática Profesional 24/7 en Cádiz",
					"foundingDate": "2000",
					"employee": {
						"@type": "Person",
						"jobTitle": "Soldador Subacuático Certificado"
					},
					"makesOffer": [
						{
							"@type": "Offer",
							"name": "Consulta Gratuita",
							"description": "Evaluación gratuita de proyectos de soldadura subacuática"
						},
						{
							"@type": "Offer",
							"name": "Servicio de Emergencia",
							"description": "Respuesta inmediata en menos de 2 horas para emergencias marítimas",
							"availability": "24/7"
						}
					]
				}
			]
		</script>

		<title>{title}</title>

		<!-- Load non-critical CSS asynchronously -->
		<link rel="preload" href="/src/styles/global.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
		<noscript><link rel="stylesheet" href="/src/styles/global.css"></noscript>
	</head>
	<body class="bg-gray-50">
		<slot />
	</body>
</html>